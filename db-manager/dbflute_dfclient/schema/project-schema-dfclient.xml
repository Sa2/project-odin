<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE database SYSTEM "http://dbflute.org/meta/database.dtd">
<!-- Auto-generated by JDBC task! -->
<database name="gungnir_db">
    <table comment="記事" name="articles"
        schema="gungnir_db.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="id" dbType="INT UNSIGNED"
            javaType="Integer" name="id" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column comment="記事タイトル" dbType="VARCHAR" javaType="String"
            name="title" required="true" size="64" type="VARCHAR"/>
        <column comment="本文" dbType="LONGTEXT" javaType="String"
            name="body" size="2147483647" type="LONGVARCHAR"/>
        <column comment="閲覧数" dbType="BIGINT UNSIGNED" default="0"
            javaType="Long" name="view_count" required="true" size="20" type="BIGINT"/>
        <column comment="非表示化" dbType="BIT" javaType="Boolean"
            name="is_hide" required="true" type="BIT"/>
        <column comment="投稿したユーザーID" dbType="INT UNSIGNED"
            javaType="Integer" name="posted_user_id" size="10" type="INTEGER"/>
        <column comment="投稿日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="post_date"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日時" dbType="TIMESTAMP"
            default="CURRENT_TIMESTAMP"
            javaType="java.time.LocalDateTime" name="update_date"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="gungnir_db.$$NoNameSchema$$"
            foreignTable="users" name="articles_ibfk_1">
            <reference foreign="id" local="posted_user_id"/>
        </foreign-key>
        <index name="posted_user_id">
            <index-column name="posted_user_id" position="1"/>
        </index>
    </table>
    <table comment="新規テーブル" name="files"
        schema="gungnir_db.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="ファイルID"
            dbType="INT UNSIGNED" javaType="Integer" name="id"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="10" type="INTEGER"/>
        <column comment="ファイル名" dbType="VARCHAR" javaType="String"
            name="name" required="true" size="256" type="VARCHAR"/>
        <column comment="ファイルデータ" dbType="LONGBLOB"
            javaType="Array[Byte]" name="file_blob" required="true"
            size="2147483647" type="LONGVARBINARY"/>
        <column comment="記事ID" dbType="INT UNSIGNED" javaType="Integer"
            name="article_id" required="true" size="10" type="INTEGER"/>
        <column comment="アップロード日時" dbType="TIMESTAMP"
            default="CURRENT_TIMESTAMP"
            javaType="java.time.LocalDateTime" name="upload_date"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="gungnir_db.$$NoNameSchema$$"
            foreignTable="articles" name="files_ibfk_1">
            <reference foreign="id" local="article_id"/>
        </foreign-key>
        <index name="article_id">
            <index-column name="article_id" position="1"/>
        </index>
    </table>
    <table comment="ユーザー情報" name="users"
        schema="gungnir_db.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="id" dbType="INT UNSIGNED"
            javaType="Integer" name="id" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="10" type="INTEGER"/>
        <column comment="ユーザーID" dbType="VARCHAR" javaType="String"
            name="user_id" required="true" size="32" type="VARCHAR"/>
        <column comment="パスワード" dbType="VARCHAR" javaType="String"
            name="password" required="true" size="256" type="VARCHAR"/>
        <column comment="名前" dbType="VARCHAR" javaType="String"
            name="name" required="true" size="32" type="VARCHAR"/>
        <column comment="アカウントロック" dbType="BIT" javaType="Boolean"
            name="is_lock" required="true" type="BIT"/>
        <column comment="登録日時" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="register_date"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日時" dbType="TIMESTAMP"
            default="CURRENT_TIMESTAMP"
            javaType="java.time.LocalDateTime" name="update_date"
            required="true" size="19" type="TIMESTAMP"/>
        <unique name="user_id">
            <unique-column name="user_id" position="1"/>
        </unique>
    </table>
</database>
